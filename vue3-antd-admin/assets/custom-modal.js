let e=document.createElement("style");e.innerHTML=".custom-modal .ant-modal-wrap .ant-modal{position:absolute;min-width:400px;min-height:140px;padding-bottom:0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content{height:100%}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header{display:flex;justify-content:space-between}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate{display:flex}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.open{width:21px;height:19px;line-height:56px;display:block;border:0;cursor:pointer;margin-left:5px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAwCAMAAAC2VRGVAAAAA3NCSVQICAjb4U/gAAACW1BMVEX///////////8AAAD///8AAAD///8AAAD///////+dnZ27IwD////39/cCcsb///+8vLz///////+7IwD///9iYmICcsa7IwD////3+vsCcsb////39/fagGzZbFSAgIACcsZYWFj///9arOFKouB7e3txcXH////3+vv39/fy9/ru7u7U5u7P4+yn5v72083O2+PF3Oj2zsed4P3G1uCg3vmV3/31yMHyycGP3f2+0t30xLyF2fyJ1vq1zdzzvLN+1vyB1vv0uK7yt617zvh+zfxx0PvxsqfxsKVxy/l7yPhtzPnwq55px/fyqJz2pZdzxOdywvduxOrvpJdkw/ZnwPddwvZgwPr1no9svPLvnJTwm41yuddmvONpt+9auvdRvPVeuuj0lYVrttdSt/ZatffulITvlIzvlHtZsvFhsdZXsO9YsOVWsuBmrs3tjHxJsPRVrexLrPBGrfHwh3Rbqs9WqtRMquTMjYNap8lIp+zwgW5Qpt1Cpu1PpdJfob1KpNJAo+rvfGlTosjqe2hBoeDsemZMntNYnbzLgHToemZUnLxFndjqdWBMlbrrcFqze3Hlb1lClM7KdmlGkbg6kMw8kcnJcWJBjrjjaFE/jcE9jbjnZk+zc2k4jMjpZE3hZk6ycGZDhq7HZlY6hLWyaFzmW0I0grU6ga7hWUA3f7LHX02xYVQxfLIweq/eUjjkTzSvWkzdTzTeSCyvU0RiYmLDRzHbQSTCQyzZPR/eOx5YWFjZNBWrOyfXMBC9MhnVJgWnMBumLBa5Jwu3JQmjJQ61HQCjIgqfGQCpbVVZAAAAyXRSTlMAESIiMzNERFVmZmZ3d3eIiJmqqru7u7vMzMzd3d3d3d3d7u7u7u7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8P+4YhAAAACXBIWXMAAAsSAAALEgHS3X78AAAA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) no-repeat}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.open{position:absolute;top:10px;left:50%;margin-left:-10px;background-position:0 0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.open:hover{background-position:0 -29px}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.min{background-position:-29px 0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.min:hover{background-position:-29px -29px}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.max{background-position:-60px 0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.max:hover{background-position:-60px -29px}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.revert{background-position:-149px 0;display:none}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.revert:hover{background-position:-149px -29px}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.close{background-position:-89px 0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-header .ant-modal-operate button.close:hover{background-position:-89px -29px}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .ant-modal-body{overflow:auto}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeB,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeL,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLB,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLT,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeR,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeT,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeTR{position:absolute;background:#000;overflow:hidden;opacity:0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeL,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeR{top:0;width:5px;height:100%;cursor:w-resize}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeR{right:0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeB,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeT{width:100%;height:5px;cursor:n-resize}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeT{top:0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeB{bottom:0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLB,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLT,.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeTR{width:8px;height:8px;background:#ff0}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLT{top:0;left:0;cursor:nw-resize}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeTR{top:0;right:0;cursor:ne-resize}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeLB{left:0;bottom:0;cursor:ne-resize}.custom-modal .ant-modal-wrap .ant-modal .ant-modal-content .resizeBR{position:absolute;width:14px;height:14px;right:0;bottom:0;overflow:hidden;cursor:nw-resize}",document.head.appendChild(e);import{m as t,_ as a,r as o,aE as n,aw as l,Y as s,s as d,ay as r,d as m,a3 as i,y as c,z as u,a4 as p,c as v,aF as f,x as h,S as g,C as b,E as y,Q as z,N as w,a6 as x,aG as A,O as R,J as C,X as L,t as T,G as B,H as E,F as k}from"./index.js";import{A as V}from"./index6.js";var j=t((function(e,t){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionGroup=t.Transition=t.getTransitionGroupProps=t.getTransitionProps=void 0;t.getTransitionProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return a};t.getTransitionGroupProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return a};var n=a.Transition;t.Transition=n;var l=a.TransitionGroup;t.TransitionGroup=l;var s=n;t.default=s}));function H(e,{emit:t,attrs:a}){const m=o(null),i=o(null),c=o(null),u=o(null),p=o(null),v=o(null),f=o(null),h=o(null),g=o(null),b=o(null),y=o(null),z=o(null),w=o(null),x=o(null),A=o(null),R=o(null),C={x:0,y:0},L=e=>Object.assign(C,{x:e.pageX,y:e.pageY});document.documentElement.addEventListener("click",L,!0);const T=j.getTransitionProps("fade"),B=j.getTransitionProps("zoom",{onAfterLeave:()=>t("update:visible",!1)});let E,k,V,H,Y,J=0;function P(e,t,a,o,n,l){t.onmousedown=function(s){const d=s.clientX-t.offsetLeft,r=s.clientY-t.offsetTop,m=e.offsetTop,i=e.offsetLeft,u=e.offsetWidth,p=e.offsetHeight,v=s=>{const v=s.clientX-d,f=s.clientY-r,h=document.documentElement.clientWidth-e.offsetLeft-2,g=document.documentElement.clientHeight-e.offsetTop-2;let b=a?u-v:t.offsetWidth+v,y=o?p-f:t.offsetHeight+f;return a&&(e.style.left=i+v+"px"),o&&(e.style.top=m+f+"px"),b<400&&(b=400),b>h&&(b=h),n||(c.value.style.width=b+"px"),y<140&&(y=140),y>g&&(y=g),l||(c.value.style.height=y-J-Y+"px"),(a&&400==b||o&&140==y)&&(document.onmousemove=null),(a||o)&&(document.onmousemove=null),!1},f=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",f)};return document.addEventListener("mousemove",v),document.addEventListener("mouseup",f),!1}}const X=()=>{!function(e,t){let a=0;(t=t||e).style.cursor="move",t.onmousedown=function(t){a=t.clientX-e.offsetLeft;const o=t.clientY-e.offsetTop,n=t=>{let n=t.clientX-a,l=t.clientY-o;const s=document.documentElement.clientWidth-e.offsetWidth,d=document.documentElement.clientHeight-e.offsetHeight;return n<=0&&(n=0),l<=0&&(l=0),n>=s&&(n=s),l>=d&&(l=d),e.style.left=n+"px",e.style.top=l+"px",!1},l=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",l)};return document.addEventListener("mousemove",n),document.addEventListener("mouseup",l),!1},A.value.onclick=function(){const{left:t,top:a}=getComputedStyle(e),{width:o,height:n}=getComputedStyle(c.value);console.log({width:o,height:n,left:t,top:a}),E=o,k=n,V=t,H=a,e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",c.value.style.width=e.style.width,c.value.style.height=parseFloat(e.style.height)-Y-J+"px",this.style.display="none",R.value.style.display="block"},R.value.onclick=function(){c.value.style.height=k,c.value.style.width=E,e.style.width=e.style.height="unset",e.style.left=V,e.style.top=H,this.style.display="none",A.value.style.display="block"}}(m.value,p.value),P(m.value,b.value,!0,!0,!1,!1),P(m.value,y.value,!1,!0,!1,!1),P(m.value,z.value,!1,!1,!1,!1),P(m.value,w.value,!0,!1,!1,!1),P(m.value,v.value,!0,!1,!1,!0),P(m.value,f.value,!1,!0,!0,!1),P(m.value,h.value,!1,!1,!1,!0),P(m.value,g.value,!1,!1,!0,!1),m.value.style.left=(document.documentElement.clientWidth-m.value.offsetWidth)/2+"px",m.value.style.top=e.centered?(document.documentElement.clientHeight-m.value.offsetHeight)/2+"px":"100px";const{left:t,top:a}=m.value.getBoundingClientRect(),{x:o,y:n}=C;i.value.style.transformOrigin=`${o-t}px ${n-a}px`},q=n.debounce(X,30);return l((()=>{s((()=>e.visible),(e=>{e&&(d((()=>{Y=p.value?.offsetHeight||0,J=u.value?.offsetHeight||0,X()})),window.addEventListener("resize",q))}),{immediate:!0})})),r((()=>{window.removeEventListener("resize",q),document.documentElement.removeEventListener("click",L,!0),q.cancel,console.log("弹窗销毁了")})),{dragRef:m,modalWrapRef:i,modalBody:c,modalFooter:u,titleRef:p,resizeLRef:v,resizeTRef:f,resizeRRef:h,resizeBRef:g,resizeLTRef:b,resizeTRRef:y,resizeBRRef:z,resizeLBRef:w,minRef:x,maxRef:A,revertRef:R,maskTransitionProps:T,dialogTransitionProps:B,closeModal:()=>{t("update:visible",!1)}}}var Y=m({name:"a-custom-modal",emits:["update:visible"],components:{Transition:j.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:(e,t)=>H(e,t)});const J={ref:"modalRootRef",class:"ant-modal-root custom-modal"},P={class:"ant-modal-mask"},X={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},q={ref:"dragRef",class:"ant-modal"},F={class:"ant-modal-content"},K={ref:"titleRef",class:"ant-modal-header"},D={class:"ant-modal-title"},I={class:"ant-modal-operate"},Q={ref:"minRef",type:"button",class:"min",title:"最小化"},W={ref:"maxRef",type:"button",class:"max",title:"最大化"},M={ref:"revertRef",type:"button",class:"revert",title:"还原"},U={ref:"resizeLRef",class:"resizeL"},G={ref:"resizeTRef",class:"resizeT"},N={ref:"resizeRRef",class:"resizeR"},S={ref:"resizeBRef",class:"resizeB"},O={ref:"resizeLTRef",class:"resizeLT"},Z={ref:"resizeTRRef",class:"resizeTR"},_={ref:"resizeBRRef",class:"resizeBR"},$={ref:"resizeLBRef",class:"resizeLB"},ee={ref:"modalBody",class:"ant-modal-body"},te=R(" ① 窗口可以拖动；"),ae=v("br",null,null,-1),oe=R(" ② 窗口可以通过八个方向改变大小；"),ne=v("br",null,null,-1),le=R(" ③ 窗口可以最小化、最大化、还原、关闭；"),se=v("br",null,null,-1),de=R(" ④ 限制窗口最小宽度/高度。 "),re={key:0,ref:"modalFooter",class:"ant-modal-footer"},me=R("取 消"),ie=R("确 认");Y.render=function(e,t,a,o,n,l){const s=i("a-button");return e.destroyOnClose&&!e.visible?(c(),u(p,{key:0},[],64)):(c(),u(A,{key:1,to:"body"},[v("div",J,[v(f,h({key:"mask"},e.maskTransitionProps),{default:g((()=>[b(v("div",P,null,512),[[y,e.visible]])])),_:1},16),v(f,h({key:"dialog"},e.dialogTransitionProps),{default:g((()=>[e.visible?(c(),u("div",X,[v("div",q,[v("div",F,[v("div",K,[v("span",D,z(e.title),1),v("div",I,[v("button",Q,null,512),v("button",W,null,512),v("button",M,null,512),v("button",{onClick:t[1]||(t[1]=(...t)=>e.closeModal(...t)),type:"button",class:"close",title:"关闭"})])],512),v("div",U,null,512),v("div",G,null,512),v("div",N,null,512),v("div",S,null,512),v("div",O,null,512),v("div",Z,null,512),v("div",_,null,512),v("div",$,null,512),v("div",ee,[w(e.$slots,"default",{},(()=>[te,ae,oe,ne,le,se,de]))],512),null!=e.footer?(c(),u("div",re,[w(e.$slots,"footer",{},(()=>[v("div",null,[v(s,{onClick:e.closeModal},{default:g((()=>[me])),_:1},8,["onClick"]),v(s,{onClick:e.closeModal,type:"primary",loading:e.confirmLoading},{default:g((()=>[ie])),_:1},8,["onClick","loading"])])]))],512)):x("v-if",!0)])],512)],512)):x("v-if",!0)])),_:1},16)],512)]))};var ce=m({name:"custom-modal",components:{[V.name]:V,[C.name]:C,ACustomModal:Y},setup(){const e=L({visible:!1});return{...T(e)}}});const ue=k("data-v-8dad50c0");B("data-v-8dad50c0");const pe=R("弹出弹窗");E();const ve=ue(((e,t,a,o,n,l)=>{const s=i("a-alert"),d=i("a-button"),r=i("a-card"),m=i("a-custom-modal");return c(),u("div",null,[v(s,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),v(r,null,{default:ue((()=>[v(d,{onClick:t[1]||(t[1]=t=>e.visible=!0),type:"primary"},{default:ue((()=>[pe])),_:1})])),_:1}),v(m,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t)},null,8,["visible"])])}));ce.render=ve,ce.__scopeId="data-v-8dad50c0";export default ce;
