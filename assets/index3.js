let e=document.createElement("style");e.innerHTML='.svg-icon[data-v-19433f72]{position:relative;width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.svg-icon[data-v-19433f72]::after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;cursor:pointer;z-index:1}.login-box[data-v-d7308368]{width:100vw;height:100vh;display:flex;padding-top:240px;flex-direction:column;align-items:center;background:url(vue3-antd-admin/assets/login.svg) 0 0/100%}.login-box .login-logo[data-v-d7308368]{display:flex;align-items:center;margin-bottom:30px}.login-box .login-logo .svg-icon[data-v-d7308368]{font-size:48px}.login-box .login-logo img[data-v-d7308368]{height:48px}.login-box .login-logo h1[data-v-d7308368]{margin-left:10px;margin-bottom:0}.login-box[data-v-d7308368] .ant-form{width:400px}.login-box[data-v-d7308368] .ant-form .ant-col{width:100%}.login-box[data-v-d7308368] .ant-form .ant-form-item-label{padding-right:6px}',document.head.appendChild(e);import{d as a,a7 as o,y as n,z as t,c as l,F as i,an as s,ac as r,X as d,a8 as g,a2 as c,Z as m,t as u,a0 as p,G as v,H as f,a3 as h,a6 as x,ag as b,O as y}from"./index.js";try{(w=require.context("/@/assets/icons",!0,/\.svg$/)).keys().forEach(w)}catch(e){console.log(e)}var w,I=a({name:"svg-icon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},setup:e=>({iconName:o((()=>`#icon-${e.iconClass}`)),svgClass:o((()=>"svg-icon"))})});const _=i("data-v-19433f72")(((e,a,o,i,s,r)=>(n(),t("svg",{class:e.svgClass,"aria-hidden":"true"},[l("use",{"xlink:href":e.iconName},null,8,["xlink:href"])],2))));I.render=_,I.__scopeId="data-v-19433f72";var k=a({name:"login",components:{UserOutlined:s,LockOutlined:r,SvgIcon:I},setup(){const e=d({loading:!1,formInline:{username:"",password:""}}),a=g(),o=c(),n=m();return{...u(e),handleSubmit:async()=>{const{username:t,password:l}=e.formInline;if(""==t.trim()||""==l.trim())return p.warning("用户名或密码不能为空！");p.loading("登录中...",0);e.loading=!0,console.log(e.formInline);const i={username:t,password:l},{code:s,result:r,message:d}=await a.dispatch("user/Login",i).finally((()=>{e.loading=!1,p.destroy()}));if(0==s){const e=decodeURIComponent(n.query?.redirect||"/");p.success("登录成功！"),o.replace(e).then((e=>{"login"==n.name&&o.replace("/")}))}else p.info(d||"登录失败")}}}});const z=i("data-v-d7308368");v("data-v-d7308368");const C={class:"login-box"},S={class:"login-logo"},U=l("h1",null,"Antd Admin",-1),q=y(" 登录 ");f();const L=z(((e,a,o,i,s,r)=>{const d=h("svg-icon"),g=h("user-outlined"),c=h("a-input"),m=h("a-form-item"),u=h("lock-outlined"),p=h("a-button"),v=h("a-form");return n(),t("div",C,[l("div",S,[l(d,{"icon-class":"logo"}),x('      <img src="~/@/assets/images/logo.png" alt="">'),U]),l(v,{layout:"horizontal",model:e.formInline,onSubmit:[e.handleSubmit,a[3]||(a[3]=b((()=>{}),["prevent"]))]},{default:z((()=>[l(m,null,{default:z((()=>[l(c,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),size:"large",placeholder:"admin"},{prefix:z((()=>[l(g,{type:"user"})])),_:1},8,["value"])])),_:1}),l(m,null,{default:z((()=>[l(c,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:z((()=>[l(u,{type:"user"})])),_:1},8,["value"])])),_:1}),l(m,null,{default:z((()=>[l(p,{type:"primary","html-type":"submit",size:"large",loading:e.loading,block:""},{default:z((()=>[q])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])}));k.render=L,k.__scopeId="data-v-d7308368";export default k;
